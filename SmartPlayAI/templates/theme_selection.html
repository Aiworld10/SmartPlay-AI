<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Select Theme</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://unpkg.com/htmx.org@1.9.2"></script>
    <style>
        .theme-card {
            min-width: 250px;
            max-width: 250px;
            margin: 0 10px;
        }

        .carousel-inner {
            display: flex;
            align-items: center;
        }

        .card-img-top {
            transition: transform 0.3s ease;
        }

        .card:hover .card-img-top {
            transform: scale(1.05);
        }
    </style>
</head>

<body class="bg-light">
    <div class="container py-5">
        <div class="text-center mb-4">
            <h2>Welcome, <span id="username">{{ username }}</span>!</h2>
            <p>Your current score: <span id="score">{{ user_score }}</span></p>
            <h4>Select a Theme to Start Playing</h4>
        </div>
        <div id="themeCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner justify-content-center">
                <!-- Survival Theme -->
                <div class="carousel-item active">
                    <div class="card theme-card shadow-sm">
                        <div class="card-img-top bg-success d-flex align-items-center justify-content-center"
                            style="height: 200px;">
                            <i class="fas fa-tree text-white" style="font-size: 3rem;"></i>
                        </div>
                        <div class="card-body text-center">
                            <h5 class="card-title">Survival</h5>
                            <p class="card-text">Test your survival instincts in extreme situations</p>
                            <button class="btn btn-primary"
                                hx-get="/questions/random?theme=survival&username={{username}}"
                                hx-target="#theme-selection-result" hx-swap="innerHTML">Select</button>
                        </div>
                    </div>
                </div>

                <!-- Work Theme -->
                <div class="carousel-item">
                    <div class="card theme-card shadow-sm">
                        <div class="card-img-top bg-warning d-flex align-items-center justify-content-center"
                            style="height: 200px;">
                            <i class="fas fa-briefcase text-white" style="font-size: 3rem;"></i>
                        </div>
                        <div class="card-body text-center">
                            <h5 class="card-title">Work</h5>
                            <p class="card-text">Handle professional challenges and workplace dilemmas</p>
                            <button class="btn btn-primary" hx-get="/questions/random?theme=work&username={{username}}"
                                hx-target="#theme-selection-result" hx-swap="innerHTML">Select</button>
                        </div>
                    </div>
                </div>

                <!-- Social Theme -->
                <div class="carousel-item">
                    <div class="card theme-card shadow-sm">
                        <div class="card-img-top bg-info d-flex align-items-center justify-content-center"
                            style="height: 200px;">
                            <i class="fas fa-users text-white" style="font-size: 3rem;"></i>
                        </div>
                        <div class="card-body text-center">
                            <h5 class="card-title">Interview</h5>
                            <p class="card-text">Handle interview scenarios and questions</p>
                            <button class="btn btn-primary"
                                hx-get="/questions/random?theme=interview&username={{username}}"
                                hx-target="#theme-selection-result" hx-swap="innerHTML">Select</button>
                        </div>
                    </div>
                </div>

                <!-- Moral Theme -->
                <!-- <div class="carousel-item">
                    <div class="card theme-card shadow-sm">
                        <div class="card-img-top bg-secondary d-flex align-items-center justify-content-center"
                            style="height: 200px;">
                            <i class="fas fa-balance-scale text-white" style="font-size: 3rem;"></i>
                        </div>
                        <div class="card-body text-center">
                            <h5 class="card-title">Moral</h5>
                            <p class="card-text">Face ethical dilemmas and moral choices</p>
                            <button class="btn btn-primary" hx-post="/select_theme"
                                hx-vals='{"theme": "moral", "username": "{{ username }}"}'
                                hx-target="#theme-selection-result" hx-swap="innerHTML">Select</button>
                        </div>
                    </div>
                </div> -->
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#themeCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon"></span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#themeCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon"></span>
            </button>
        </div>
        <div id="theme-selection-result" class="mt-4 text-center"></div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>