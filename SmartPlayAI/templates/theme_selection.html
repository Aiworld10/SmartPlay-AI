<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Select Theme</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://unpkg.com/htmx.org@1.9.2"></script>
    <style>
        /* CSS Variables for Light and Dark Themes */
        :root {
            --bg-primary: #f4f6fa;
            --bg-secondary: #fff;
            --bg-tertiary: #f8f9fa;
            --text-primary: #212529;
            --text-secondary: #6c757d;
            --text-muted: #495057;
            --border-color: #dee2e6;
            --card-shadow: rgba(0, 0, 0, 0.08);
            --link-color: #0d6efd;
        }

        body.dark-mode {
            --bg-primary: #0a0e27;
            --bg-secondary: #1e2540;
            --bg-tertiary: #252b48;
            --text-primary: #e0e6ff;
            --text-secondary: #a8b3cf;
            --text-muted: #8891aa;
            --border-color: #2d3454;
            --card-shadow: rgba(107, 42, 255, 0.2);
            --link-color: #a78bfa;
            background: #0a0e27 !important;

            background-image:
            radial-gradient(at 20% 30%, rgba(107, 42, 255, 0.15) 0px, transparent 50%),
            radial-gradient(at 80% 70%, rgba(139, 92, 246, 0.1) 0px, transparent 50%),
            radial-gradient(at 50% 50%, rgba(167, 139, 250, 0.05) 0px, transparent 50%);
        }

        .theme-card {
            margin: 0 auto;
        }

        .card-img-top i {
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .card:hover .card-img-top i {
            transform: rotateY(360deg);
        }

        .carousel-item {
            text-align: center;
        }

        .card-img-top {
            transition: transform 0.3s ease;
        }

        .card:hover .card-img-top {
            transform: scale(1.05);
        }

        .text-center.mb-4 h2 {
            background: linear-gradient(90deg, #1a1a1a 0%, #667eea 25%, #f093fb 50%, #764ba2 75%, #1a1a1a 100%);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: shine 2s linear infinite;
            font-weight: 700;
        }

        @keyframes shine {
            to { background-position: - 200% center; }
        }

    </style>
</head>

<body class="bg-light">
    <script>
        // Apply dark mode immediately when body starts rendering
        if (localStorage.getItem('darkMode') === 'true') {
            document.body.classList.add('dark-mode');
        }
    </script>
    {% include 'header.html' %}
    <div class="container py-5">
        <div class="text-center mb-4">

            <h2>Welcome, <span id="username">{{ username }}</span>!</h2>
            <!-- <p>Your current score: <span id="score">{{ user_score }}</span></p> -->
            <h4>Select a Theme to Start Playing</h4>
        </div>
        <div id="themeCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner justify-content-center">
                <!-- Survival Theme -->
                <div class="carousel-item active">
                    <div class="card theme-card shadow-sm">
                        <div class="card-img-top bg-success d-flex align-items-center justify-content-center"
                            style="height: 200px;">
                            <i class="fas fa-tree text-white" style="font-size: 3rem;"></i>
                        </div>
                        <div class="card-body text-center">
                            <h5 class="card-title">Survival</h5>
                            <p class="card-text">Test your survival instincts in extreme situations</p>
                            <a href="/questions/random?theme=survival&user_id={{user_id}}"
                                class="btn btn-primary">Select</a>
                        </div>
                    </div>
                </div>

                <!-- Work Theme -->
                <div class="carousel-item">
                    <div class="card theme-card shadow-sm">
                        <div class="card-img-top bg-warning d-flex align-items-center justify-content-center"
                            style="height: 200px;">
                            <i class="fas fa-briefcase text-white" style="font-size: 3rem;"></i>
                        </div>
                        <div class="card-body text-center">
                            <h5 class="card-title">Work</h5>
                            <p class="card-text">Handle professional challenges and workplace dilemmas</p>
                            <a href="/questions/random?theme=work&user_id={{user_id}}"
                                class="btn btn-primary">Select</a>
                        </div>
                    </div>
                </div>

                <!-- Social Theme -->
                <div class="carousel-item">
                    <div class="card theme-card shadow-sm">
                        <div class="card-img-top bg-info d-flex align-items-center justify-content-center"
                            style="height: 200px;">
                            <i class="fas fa-users text-white" style="font-size: 3rem;"></i>
                        </div>
                        <div class="card-body text-center">
                            <h5 class="card-title">Interview</h5>
                            <p class="card-text">Handle interview scenarios and questions</p>
                            <a href="/questions/random?theme=interview&user_id={{user_id}}"
                                class="btn btn-primary">Select</a>
                        </div>
                    </div>
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#themeCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon"></span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#themeCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon"></span>
            </button>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>